//DonateActivity.kt


package com.iskcon.donation

import android.os.Bundle
import android.widget.Button
import android.widget.EditText
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity
import androidx.core.widget.NestedScrollView

class DonateActivity : AppCompatActivity() {

    private lateinit var etAnnadaanAmount: EditText
    private lateinit var etGitadaanAmount: EditText
    private lateinit var etJanmashtamiAmount: EditText
    private lateinit var btnDonateAnnadaan: Button
    private lateinit var btnDonateGitadaan: Button
    private lateinit var btnDonateJanmashtami: Button

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_donate)

        // Set up action bar
        supportActionBar?.apply {
            title = "Donate"
            setDisplayHomeAsUpEnabled(true)
        }

        initializeViews()
        setupClickListeners()
    }

    private fun initializeViews() {
        etAnnadaanAmount = findViewById(R.id.etAnnadaanAmount)
        etGitadaanAmount = findViewById(R.id.etGitadaanAmount)
        etJanmashtamiAmount = findViewById(R.id.etJanmashtamiAmount)
        btnDonateAnnadaan = findViewById(R.id.btnDonateAnnadaan)
        btnDonateGitadaan = findViewById(R.id.btnDonateGitadaan)
        btnDonateJanmashtami = findViewById(R.id.btnDonateJanmashtami)
    }

    private fun setupClickListeners() {
        btnDonateAnnadaan.setOnClickListener {
            processDonation("Annadaan", etAnnadaanAmount.text.toString())
        }

        btnDonateGitadaan.setOnClickListener {
            processDonation("Gitadaan", etGitadaanAmount.text.toString())
        }

        btnDonateJanmashtami.setOnClickListener {
            processDonation("Temple Donation", etJanmashtamiAmount.text.toString())
        }
    }

    private fun processDonation(category: String, amount: String) {
        when {
            amount.isEmpty() -> {
                Toast.makeText(this, "Please enter amount", Toast.LENGTH_SHORT).show()
            }
            amount.toDoubleOrNull() == null -> {
                Toast.makeText(this, "Please enter valid amount", Toast.LENGTH_SHORT).show()
            }
            amount.toDouble() <= 0 -> {
                Toast.makeText(this, "Amount must be greater than 0", Toast.LENGTH_SHORT).show()
            }
            else -> {
                // Here you would integrate with payment gateway (Razorpay/Paytm)
                Toast.makeText(
                    this,
                    "Processing ₹$amount donation for $category",
                    Toast.LENGTH_LONG
                ).show()

                // Example: Start payment gateway activity
                // startPaymentGateway(category, amount.toDouble())
            }
        }
    }

    // Uncomment and implement when integrating payment gateway
    /*
    private fun startPaymentGateway(category: String, amount: Double) {
        // Razorpay example
        val checkout = Checkout()
        checkout.setKeyID("your_razorpay_key")

        try {
            val options = JSONObject()
            options.put("name", "ISKCON Donation")
            options.put("description", category)
            options.put("currency", "INR")
            options.put("amount", (amount * 100).toInt()) // Amount in paise

            checkout.open(this, options)
        } catch (e: Exception) {
            Toast.makeText(this, "Error in payment: ${e.message}", Toast.LENGTH_SHORT).show()
        }
    }


    override fun onPaymentSuccess(razorpayPaymentId: String?) {
        Toast.makeText(this, "Payment Successful: $razorpayPaymentId", Toast.LENGTH_LONG).show()
    }

    override fun onPaymentError(code: Int, message: String?) {
        Toast.makeText(this, "Payment Failed: $message", Toast.LENGTH_LONG).show()
    }
    */


    override fun onSupportNavigateUp(): Boolean {
        onBackPressed()
        return true
    }
}







//AndroidManifest.xml

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.iskcon.donation">

    <!-- Internet permission for payment gateway -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme"
        android:usesCleartextTraffic="true">

        <!-- Donate Activity -->
        <activity
            android:name=".DonateActivity"
            android:exported="true"
            android:screenOrientation="portrait">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

    </application>

</manifest>




//Build.gradle.kts(Module:app)



plugins {
    id("com.android.application")
    id("org.jetbrains.kotlin.android")
}

android {
    namespace = "com.iskcon.donation"
    compileSdk = 36

    defaultConfig {
        applicationId = "com.iskcon.donation"
        minSdk = 21
        targetSdk = 36
        versionCode = 1
        versionName = "1.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = "1.8"
    }
}

dependencies {
    // Core Android
    implementation("androidx.core:core-ktx:1.12.0")
    implementation("androidx.appcompat:appcompat:1.6.1")
    implementation("com.google.android.material:material:1.11.0")
    implementation("androidx.constraintlayout:constraintlayout:2.1.4")

    // Lifecycle
    implementation("androidx.lifecycle:lifecycle-runtime-ktx:2.7.0")
    implementation(libs.core.ktx)

    // Optional: Payment Gateway Integration
    // Uncomment the payment gateway you want to use:

    // Razorpay
    // implementation("com.razorpay:checkout:1.6.33")

    // Paytm
    // implementation("com.paytm:pgplussdk:1.4.7")

    // PhonePe
    // implementation("phonepe.intentsdk.android:IntentSDK:2.4.1")

    // Testing
    testImplementation("junit:junit:4.13.2")
    androidTestImplementation("androidx.test.ext:junit:1.1.5")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")

    /*
    implementation("com.razorpay:checkout:1.6.33")
    */
}




//activity_donate.xml



<?xml version="1.0" encoding="utf-8"?>
<androidx.core.widget.NestedScrollView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFFFFF"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <!-- Header Section -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="#FFFFFF"
            android:padding="16dp">

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text=""
                android:textSize="22sp"
                android:textStyle="bold"
                android:textColor="#000000"
                android:gravity="center"
                android:paddingBottom="8dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text=" IT'S TIME TO CONTRIBUTE"
                android:textSize="28sp"
                android:textStyle="bold"
                android:textColor="#F6F3F3"
                android:background="#D8F46538"
                android:gravity="center"
                android:paddingBottom="12dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text=""
                android:textSize="22sp"
                android:textStyle="bold"
                android:textColor="#000000"
                android:gravity="center"
                android:paddingBottom="8dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Your donation to ISKCON can support various initiatives such as feeding programs for the needy, educational outreach, temple construction, and preservation of cultural heritage. By contributing, you're not only aiding the organization but also participating in the noble endeavor of spreading love, compassion, and spiritual wisdom. Every donation, no matter how big or small, makes a meaningful difference in the lives of others and helps sustain the mission of ISKCON."
                android:textSize="14sp"
                android:textColor="#090808"
                android:lineSpacingExtra="4dp" />

        </LinearLayout>

        <!-- Annadaan Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="12dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="#F4F0E6"
                android:orientation="vertical">

                <ImageView
                    android:layout_width="match_parent"
                    android:layout_height="220dp"
                    android:scaleType="centerCrop"
                    android:src="@drawable/annadan"
                    android:contentDescription="Annadaan - Food Distribution" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Annadaan"
                        android:textSize="22sp"
                        android:textStyle="bold"
                        android:textColor="#000000"
                        android:gravity="center"
                        android:paddingBottom="8dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Your contribution can ignite change, making a difference in the lives of millions facing hunger."
                        android:textSize="14sp"
                        android:textColor="#090808"
                        android:gravity="center"
                        android:paddingBottom="16dp"
                        android:lineSpacingExtra="2dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="(Per Plate Rs.30)                                                                                     100 Plates: Rs.3,000                                                             200 Plates: Rs.6,000                                                                                 500 Plates: Rs.15,000                                                        1000 Plates: Rs.30,000"
                        android:textSize="14sp"
                        android:textColor="#666666"
                        android:gravity="center"
                        android:paddingBottom="16dp"
                        android:lineSpacingExtra="2dp" />


                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Enter Amount (₹)"
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/etAnnadaanAmount"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="numberDecimal"
                            android:maxLines="1" />

                    </com.google.android.material.textfield.TextInputLayout>

                    <Button
                        android:id="@+id/btnDonateAnnadaan"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="DONATE NOW"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:backgroundTint="#F46538"
                        android:layout_marginTop="12dp"
                        android:paddingVertical="14dp" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Gitadaan Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="12dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="#F4F0E6"
                android:orientation="vertical">

                <ImageView
                    android:layout_width="match_parent"
                    android:layout_height="220dp"
                    android:scaleType="centerCrop"
                    android:src="@drawable/gitadan"
                    android:contentDescription="Gitadaan - Book Distribution" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">


                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center"
                        android:paddingBottom="8dp"
                        android:text="Gitadaan"
                        android:textColor="#000000"
                        android:textSize="22sp"
                        android:textStyle="bold" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center"
                        android:lineSpacingExtra="2dp"
                        android:paddingBottom="16dp"
                        android:text="राजविद्या राजगुह्यम् - Help the people to reconnect with the lost Indian Vedic wisdom."
                        android:textColor="#090808"
                        android:textSize="14sp" />



                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center"
                        android:lineSpacingExtra="2dp"
                        android:paddingBottom="16dp"
                        android:text="(Per Gita Rs.200)                                                         DONATE 15 Bhagvad Gita: Rs.3,000                        DONATE 25 Bhagvad Gita: Rs.5,000                        DONATE 50 Bhagvad Gita: Rs.10,000                                                                      DONATE 75 Bhagvad Gita: Rs.15,000"
                        android:textColor="#666666"
                        android:textSize="14sp" />

                    <com.google.android.material.textfield.TextInputLayout
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Enter Amount (₹)">

                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/etGitadaanAmount"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="numberDecimal"
                            android:maxLines="1" />

                    </com.google.android.material.textfield.TextInputLayout>

                    <Button
                        android:id="@+id/btnDonateGitadaan"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="12dp"
                        android:backgroundTint="#F46538"
                        android:paddingVertical="14dp"
                        android:text="DONATE NOW"
                        android:textSize="16sp"
                        android:textStyle="bold" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Janmashtami Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="12dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="#F4F0E6"
                android:orientation="vertical">

                <ImageView
                    android:layout_width="match_parent"
                    android:layout_height="220dp"
                    android:scaleType="centerCrop"
                    android:src="@drawable/janmashtami"
                    android:contentDescription="Temple Donation" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Temple Donation"
                        android:textSize="22sp"
                        android:textStyle="bold"
                        android:textColor="#000000"
                        android:gravity="center"
                        android:paddingBottom="8dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Support the ISKCON temple's mission of spreading love and spiritual enlightenment. Donate today to help us with our various Seva initiatives."
                        android:textSize="14sp"
                        android:textColor="#090808"
                        android:gravity="center"
                        android:paddingBottom="16dp"
                        android:lineSpacingExtra="2dp" />

                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Enter Amount (₹)"
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/etJanmashtamiAmount"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="numberDecimal"
                            android:maxLines="1" />

                    </com.google.android.material.textfield.TextInputLayout>

                    <Button
                        android:id="@+id/btnDonateJanmashtami"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="DONATE NOW"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:backgroundTint="#F46538"
                        android:layout_marginTop="12dp"
                        android:paddingVertical="14dp" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Bottom Spacing -->
        <View
            android:layout_width="match_parent"
            android:layout_height="16dp" />

    </LinearLayout>

</androidx.core.widget.NestedScrollView>



//values
//colors.xml

<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Primary Colors -->
    <color name="colorPrimary">#FF9800</color>
    <color name="colorPrimaryDark">#F57C00</color>
    <color name="colorAccent">#FF9800</color>

    <!-- Background Colors -->
    <color name="backgroundColor">#F5F5F5</color>
    <color name="cardBackground">#FFFFFF</color>

    <!-- Text Colors -->
    <color name="textPrimary">#000000</color>
    <color name="textSecondary">#666666</color>
    <color name="textWhite">#FFFFFF</color>

    <!-- Button Colors -->
    <color name="donateButton">#FF9800</color>
    <color name="donateButtonPressed">#F57C00</color>
</resources>



//values
//strings.xml

<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="app_name">ISKCON Donation</string>

    <!-- Header -->
    <string name="donate_title">DONATE</string>
    <string name="contribute_header">IT\'S TIME TO CONTRIBUTE</string>
    <string name="contribute_description">Your donation to ISKCON can support various initiatives such as feeding programs for the needy, educational outreach, temple construction, and preservation of cultural heritage. By contributing, you\'re not only aiding the organization but also participating in the noble endeavor of spreading love, compassion, and spiritual wisdom. Every donation, no matter how big or small, makes a meaningful difference in the lives of others and helps sustain the mission of ISKCON.</string>

    <!-- Annadaan -->
    <string name="annadaan_title">Annadaan</string>
    <string name="annadaan_description">Your contribution can ignite change, making a difference in the lives of millions facing hunger.</string>

    <!-- Gitadaan -->
    <string name="gitadaan_title">Gitadaan</string>
    <string name="gitadaan_description">राजविद्या राजगुह्यम् - Help the people to reconnect with the lost Indian Vedic wisdom.</string>

    <!-- Janmashtami -->
    <string name="janmashtami_title">Temple Donation</string>
    <string name="janmashtami_description">Contribute now to uphold tradition, devotion, and joyous service during this sacred festival.</string>

    <!-- Common -->
    <string name="enter_amount">Enter Amount (₹)</string>
    <string name="donate_button">DONATE</string>
    <string name="please_enter_amount">Please enter amount</string>
    <string name="please_enter_valid_amount">Please enter valid amount</string>
    <string name="amount_greater_than_zero">Amount must be greater than 0</string>
    <string name="processing_donation">Processing ₹%1$s donation for %2$s</string>
</resources>



//values
//styles.xml

<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Base application theme -->
    <style name="AppTheme" parent="Theme.MaterialComponents.Light.DarkActionBar">
        <!-- Customize your theme here -->
        <item name="colorPrimary">@color/colorPrimary</item>
        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
        <item name="colorAccent">@color/colorAccent</item>
        <item name="android:windowBackground">@color/backgroundColor</item>
    </style>

    <!-- Button Style -->
    <style name="DonateButtonStyle" parent="Widget.MaterialComponents.Button">
        <item name="android:textColor">@color/textWhite</item>
        <item name="backgroundTint">@color/donateButton</item>
        <item name="cornerRadius">8dp</item>
        <item name="android:textSize">16sp</item>
        <item name="android:textStyle">bold</item>
    </style>

</resources>




//libs.versions.toml

[versions]
agp = "8.13.0"
junit = "4.13.2"
junitVersion = "1.3.0"
espressoCore = "3.7.0"
appcompat = "1.7.1"
material = "1.13.0"
activity = "1.11.0"
constraintlayout = "2.2.1"
kotlin = "2.2.0"
coreKtx = "1.17.0"

[libraries]
junit = { group = "junit", name = "junit", version.ref = "junit" }
ext-junit = { group = "androidx.test.ext", name = "junit", version.ref = "junitVersion" }
espresso-core = { group = "androidx.test.espresso", name = "espresso-core", version.ref = "espressoCore" }
appcompat = { group = "androidx.appcompat", name = "appcompat", version.ref = "appcompat" }
material = { group = "com.google.android.material", name = "material", version.ref = "material" }
activity = { group = "androidx.activity", name = "activity", version.ref = "activity" }
constraintlayout = { group = "androidx.constraintlayout", name = "constraintlayout", version.ref = "constraintlayout" }
core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "coreKtx" }

[plugins]
android-application = { id = "com.android.application", version.ref = "agp" }
kotlin-android = { id = "org.jetbrains.kotlin.android", version.ref = "kotlin" }

